
                                <!-- Array -->
                                <div class="form-group" ng-show="(filter.values != undefined && filter.elementType == 'array' && (filter.filterType != 'in' && filter.filterType != 'notIn') && (filter.filterType != 'null' && filter.filterType != 'notNull'))">
                                    <ui-select ng-model="filter.filterLabel1" on-select="selectFilterArrayValue('simple', filter)" theme="select2" ng-disabled="disabled" style="width: 200px;">
                                        <ui-select-match placeholder="Select or search a value in the list...">{{$select.selected.label}}</ui-select-match>
                                        <ui-select-choices repeat="value in filter.values | filter: $select.search">
                                            <span ng-bind-html="value.label | highlight: $select.search"></span>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                                <!-- END Array -->
                                <!-- Multiple Array -->
                                <div class="form-group" ng-show="(filter.values != undefined && filter.elementType == 'array' && (filter.filterType == 'in' || filter.filterType == 'notIn') && (filter.filterType != 'null' && filter.filterType != 'notNull') )" >

                                    <ui-select multiple ng-model="filter.filterLabel1" on-select="selectFilterArrayValue('multiple', filter)" on-remove="selectFilterArrayValue('multiple', filter)" theme="select2" ng-disabled="disabled" style="width: 200px;">
                                        <ui-select-match placeholder="Select multiple values...">{{$item.label}}</ui-select-match>
                                        <ui-select-choices repeat="value in filter.values | filter: $select.search">
                                            <div ng-bind-html="value.lavel | highlight: $select.search"></div>
                                            <small>
                                                {{value.label}}

                                            </small>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                                <!-- END Multiple Array -->

                                <!-- TODO: Selector de fecha , tratamiento de los campos de tipo fecha, mes , año, día, dia de la semana, etc... -->
                                <!-- Date -->
                                <div class="form-group" ng-show="(filter.elementType == 'date' && (filter.filterType != 'null' && filter.filterType != 'notNull'))">

                                    <!--preformated date selector -->
                                    <div class="input-group" dropdown ng-if="filter.elementType == 'date' && (filter.filterType == 'equal-pattern' || filter.filterType == 'diferentThan-pattern' || filter.filterType == 'biggerThan-pattern' || filter.filterType == 'biggerOrEqualThan-pattern' || filter.filterType == 'lessThan-pattern' || filter.filterType == 'lessOrEqualThan-pattern')">
                                        <!--<button type="button" class="btn btn-white" ng-bind="filter.filterLabel1"> {{filter.filterLabel1}} </button>-->
                                         <input placeholder="{{label}}" type="text" class="form-control no-right-border form-focus-green" ng-model="filter.filterLabel1" ng-readonly="true">
                                        <span class="input-group-btn" >
                                            <span class="dropdown" >
                                                <button type="button" class="btn btn-white dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                    <i class="fa-caret-down"></i>
                                                </button>
                                                    <ul class="dropdown-menu shorter-menu" aria-labelledby="dropdownMenu4b" >
                                                        <li ng-repeat="option in queryModel.getDatePatternFilters()"><a ng-click="setDatePatternFilterType(filter,option);">{{option.label}}</a></li>

                                                    </ul>
                                          </span>
                                        </span>
                                        <span ng-if="filter.promptMandatory != true" class="input-group-btn" >

                                                <button type="button" class="btn btn-white" ng-click="clearFilter(filter)">
                                                    <i class="fa-times"></i>
                                                </button>

                                        </span>

                                     </div>
                                    <!-- date input -->
                                   <!-- <input type="date" id="exampleInput" name="input" ng-model="filter.filterLabel1"
       placeholder="yyyy-MM-dd"  ng-show="(filter.elementType == 'date' && (filter.filterType == 'equal' || filter.filterType == 'diferentThan' || filter.filterType == 'biggerThan' || filter.filterType == 'biggerOrEqualThan' || filter.filterType == 'lessThan'  || filter.filterType == 'lessOrEqualThan' || filter.filterType == 'between'  || filter.filterType == 'notBetween'))"
                                           ng-change="onDateSet(filter.filterLabel1, oldDate, filter)" style="line-height: 26px;"/> {{filter.filterLabel1}}-->

                                    <div class="input-group" ng-show="(filter.elementType == 'date' && (filter.filterType == 'equal' || filter.filterType == 'diferentThan' || filter.filterType == 'biggerThan' || filter.filterType == 'biggerOrEqualThan' || filter.filterType == 'lessThan'  || filter.filterType == 'lessOrEqualThan' || filter.filterType == 'between'  || filter.filterType == 'notBetween'))" style="width:150px;">

                                    <input type="text" class="form-control no-right-border form-focus-green" ng-model="filter.filterLabel1 | date:'yyyy-MM-dd'" ng-readonly="true">
                                        <span class="input-group-btn" >
                                            <span class="dropdown" >
                                                <a class="btn btn-primary popover-primary ng-scope"  id="dropdown1" role="button" data-toggle="dropdown" data-target="#" ><i class="fa fa-calendar"></i></a>
                                                <ul class="dropdown-menu" role="menu">
                                                    <datetimepicker ng-model="filter.filterLabel1"  data-on-set-time="onDateSet(newDate, oldDate, filter)" data-datetimepicker-config="{ dropdownSelector: '#dropdown1', startView:'day', minView:'day'  }"/>
                                                </ul>
                                            </span>
                                        </span>
                                    </div>
<!--

<ui-select ng-show="filter.filterType != 'between' && filter.filterType != 'notBetween' && filter.filterType != 'null' && filter.filterType != 'notNull' && filter.filterType != 'in' && filter.filterType != 'notIn'" ng-model="filter.dateCustomFilterLabel" on-select="filter.filterText1 = filter.dateCustomFilterLabel.value;filter.filterLabel1 = ''" theme="select2" ng-disabled="disabled" style="width: 200px;">
                                        <ui-select-match placeholder="Select or search a value in the list...">{{$select.selected.label}}</ui-select-match>
                                        <ui-select-choices repeat="value in dateFilters | filter: $select.search">
                                            <span ng-bind-html="value.label | highlight: $select.search"></span>

                                        </ui-select-choices>
                                    </ui-select>


-->

                                    <span ng-show="filter.filterType == 'in' || filter.filterType == 'notIn'">
                                        <!--<span class="filter-in-list" ng-repeat="oneDate in filter.filterText1">
                                            {{oneDate | date:'yyyy-MM-dd'}} <i class="fa fa-remove filter-in-list-remove hand-cursor" ng-click="removeItem(oneDate,filter.filterText1)"></i>
                                        </span>-->

                                    </span>


                                    <!--between for date -->
                                    <span class="filter-label-value" ng-if="(filter.filterType == 'between' || filter.filterType == 'notBetween') && filter.elementType == 'date'" style="color:#0000FF;"> and </span>
                                    <!--
                                    <span class="filter-label-value" ng-if="(filter.filterType == 'between' || filter.filterType == 'notBetween') && filter.elementType == 'date'"> {{filter.filterLabel2 | date:'yyyy-MM-dd'}} </span>
                                    <span ng-if="(filter.filterType == 'between' || filter.filterType == 'notBetween') && filter.elementType == 'date'" class="dropdown" popover-trigger="mouseenter" popover-placement="top" popover="Click here to select the end date to filter">
                                        <a class="btn btn-primary popover-primary ng-scope"  id="dropdown2" role="button" data-toggle="dropdown" data-target="#" ><i class="fa fa-calendar"></i></a>
                                        <ul class="dropdown-menu" role="menu">
                                            <datetimepicker ng-model="filter.filterLabel2"  data-on-set-time="onDateEndSet(newDate, oldDate, filter)" data-datetimepicker-config="{ dropdownSelector: '#dropdown2', startView:'day', minView:'day'  }"/>
                                        </ul>
                                    </span>
                                    -->
                                    <div class="input-group" ng-if="(filter.filterType == 'between' || filter.filterType == 'notBetween') && filter.elementType == 'date'" style="width:150px;">
                                    <input type="text" class="form-control no-right-border form-focus-green" ng-model="filter.filterLabel2 | date:'yyyy-MM-dd'" ng-readonly="true">
                                        <span class="input-group-btn" >
                                            <span class="dropdown" >
                                                <a class="btn btn-primary popover-primary ng-scope"  id="dropdown2" role="button" data-toggle="dropdown" data-target="#" ><i class="fa fa-calendar"></i></a>
                                                <ul class="dropdown-menu" role="menu">
                                                    <datetimepicker ng-model="filter.filterLabel2"  data-on-set-time="onDateEndSet(newDate, oldDate, filter)" data-datetimepicker-config="{ dropdownSelector: '#dropdown2', startView:'day', minView:'day'  }"/>
                                                </ul>
                                            </span>
                                        </span>
                                    </div>
                                    <!--<input type="date" id="exampleInput" name="input" ng-model="filter.filterLabel2"
       placeholder="yyyy-MM-dd"  ng-if="(filter.filterType == 'between' || filter.filterType == 'notBetween') && filter.elementType == 'date'"
                                           ng-change="onDateEndSet(filter.filterLabel2, oldDate, filter)" style="line-height: 26px;"/>-->
                                    <!--end between for date -->


                                    <!--
                                    <ui-select ng-show="filter.filterType != 'between' && filter.filterType != 'notBetween' && filter.filterType != 'null' && filter.filterType != 'notNull' && filter.filterType != 'in' && filter.filterType != 'notIn'" ng-model="filter.dateCustomFilterLabel" on-select="filter.filterText1 = filter.dateCustomFilterLabel.value;filter.filterLabel1 = ''" theme="select2" ng-disabled="disabled" style="width: 200px;">
                                        <ui-select-match placeholder="Select or search a value in the list...">{{$select.selected.label}}</ui-select-match>
                                        <ui-select-choices repeat="value in dateFilters | filter: $select.search">
                                            <span ng-bind-html="value.label | highlight: $select.search"></span>

                                        </ui-select-choices>
                                    </ui-select>
                                    -->




                                </div>
                                <!-- END Date -->

                                <!--equal, in, etc ...-->
                                <!--<div class="input-group" ng-show="!(filter.filterType == 'null' || filter.filterType == 'notNull') && ( filter.elementType != 'array') && ( filter.elementType != 'date') && (filter.filterType != 'not in') && (filter.filterType != 'in')" style="width:200px;">
                                    <input type="text" class="form-control no-right-border form-focus-green" ng-model="filter.filterText1" ng-change="inputChanged(filter)">
                                    <span class="input-group-btn" ng-show="(filter.filterType != 'between' && filter.filterType != 'notBetween')">
                                        <button class="btn btn-primary popover-primary ng-scope" popover-trigger="mouseenter" popover-placement="bottom" popover-title="Select distinct values" popover="Click here to select one or more from the distinct values that can currently be found in the database" ng-click="getDistinctValues(filter)"><i class="fa fa-search"></i></button>
                                    </span>
                                </div>-->

                                    <div class="input-group" dropdown ng-show="!(filter.filterType == 'null' || filter.filterType == 'notNull') && ( filter.elementType != 'array') && ( filter.elementType != 'date') && (filter.filterType != 'not in') && (filter.filterType != 'in')">
                                        <!--<button type="button" class="btn btn-white" ng-bind="filter.filterLabel1"> {{filter.filterLabel1}} </button>-->
                                         <input placeholder="{{label}}" type="text" class="form-control no-right-border form-focus-green" ng-model="filter.filterText1" ng-change="inputChanged(filter)">
                                        <span class="input-group-btn" >
                                            <span class="dropdown" >
                                                <button type="button" class="btn btn-white dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="getDistinctValues(filter)">
                                                    <i class="fa-caret-down"></i>
                                                </button>
                                                    <ul class="dropdown-menu shorter-menu" aria-labelledby="dropdownMenu5b" >
                                                        <li ng-repeat="value in selectedFilter.data"><a ng-click="selectSearchValue(value[selectedFilter.id])">{{value[selectedFilter.id]}}</a></li>
                                                        <li ng-if="filter.promptMandatory != true">
                                                        <a ng-click="clearFilter(filter)">Clear filter</a>
                                                        </li>
                                                    </ul>
                                          </span>
                                        </span>
                                        <span ng-if="filter.promptMandatory != true" class="input-group-btn" >

                                                <button type="button" class="btn btn-white" ng-click="clearFilter(filter)">
                                                    <i class="fa-times"></i>
                                                </button>

                                        </span>

                                     </div>


                                <ui-select ng-show="(filter.filterType == 'not in' || filter.filterType == 'in')" multiple  ng-model="filter.searchValue" on-select="filterSelectChanged($item, filter)" on-remove="filterSelectChanged($item, filter)" theme="bootstrap" ng-disabled="disabled" style="width: 300px;">
                                        <ui-select-match placeholder="{{filter.promptTitle}}">{{$item[filter.id]}}</ui-select-match>
                                        <ui-select-choices refresh="funcAsync(filter,$select.search)" refresh-delay="0" repeat="value in filter.values | filter:$select.search">
                                          {{value[filter.id]}}
                                        </ui-select-choices>
                                </ui-select>

                                <!--between-->
                                <span ng-show="(filter.filterType == 'between' || filter.filterType == 'notBetween') && filter.elementType != 'date'"><button class="btn" style="margin-right:2px;margin-left:2px">and</button>  <input type="text" class="form-control form-focus-green" ng-model="filter.filterText2" />  </span>

                                <!--prompt
                                <div class="form-group">
                                    <button class="btn popover-primary ng-scope" ng-class="{'btn-black': filter.filterPrompt == true, 'btn-white': filter.filterPrompt == false}" ng-click="filterPromptsClick(filter)" popover-trigger="mouseenter" popover-placement="bottom" popover-title="Filter prompt" popover="{{getButtonFilterPromptMessage(filter)}}">
                                        <i class="fa fa-filter"></i><i class="fa fa-question"></i>
                                    </button>
                                </div>

                                <span class="pull-right" style="padding: 7px 0;"><i class="fa fa-times hand-cursor" ng-click="removeFilter(filter);filtersUpdated();detectLayerJoins();processStructure();"></i></span>

                            </div>-->
